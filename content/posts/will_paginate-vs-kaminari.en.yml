lang: "en"
slug: "will_paginate-vs-kaminari"
originalPath: "https://www.belighted.com/blog/will_paginate-vs-kaminari"
title: "will_paginate vs. Kaminari"
author: "Stéphane A."
description: "What is the main differences between will_paginate and Kaminari gems ? Take a quick look to this post in order to discover our comparaison."
image: "http://belighted.com/images/default_blogpost_image_3@1x.jpg#keepProtocol"
date: 1325376000000
body: "<p>In order to start this comparison, let’s just explain the way of working of both gem.</p>\n<!--more-->\n<p>Assume we have a class of objects named <code>Book</code>.</p>\n<p>In order to paginate your list of books, will_paginate needs you to put:</p>\n<p>In your controller:</p>\n<figure class=\"code\">\n<figcaption><span>books_controller.rb </span></figcaption>\n<div class=\"highlight\">\n<table>\n<tbody>\n<tr>\n<td class=\"gutter\">\n<pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n</pre>\n</td>\n<td class=\"code\">\n<pre><code class=\"ruby\"><span class=\"line\"><span class=\"k\"><span class=\"function\"><span class=\"keyword\">def</span></span></span><span class=\"function\"> <span class=\"nf\"><span class=\"title\">index</span></span></span><span class=\"nf\"></span>\n</span><span class=\"line\"> <span class=\"vi\"><span class=\"variable\">@books</span></span> <span class=\"o\">=</span> <span class=\"no\"><span class=\"constant\">Book</span></span><span class=\"o\">.</span><span class=\"n\">paginate</span><span class=\"p\">(</span><span class=\"ss\"><span class=\"symbol\">:page</span></span> <span class=\"o\">=&gt;</span> <span class=\"n\">params</span><span class=\"o\">[</span><span class=\"ss\"><span class=\"symbol\">:page</span></span><span class=\"o\">]</span><span class=\"p\">,</span> <span class=\"ss\"><span class=\"symbol\">:per_page</span></span> <span class=\"o\">=&gt;</span> <span class=\"mi\"><span class=\"number\">10</span></span><span class=\"p\">)</span>\n</span><span class=\"line\"><span class=\"k\"><span class=\"keyword\">end</span></span>\n</span></code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</figure>\n<p>and in your view:</p>\n<figure class=\"code\">\n<figcaption><span>index.html.erb </span></figcaption>\n<div class=\"highlight\">\n<table>\n<tbody>\n<tr>\n<td class=\"gutter\">\n<pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n<span class=\"line-number\">11</span>\n<span class=\"line-number\">12</span>\n<span class=\"line-number\">13</span>\n<span class=\"line-number\">14</span>\n<span class=\"line-number\">15</span>\n<span class=\"line-number\">16</span>\n<span class=\"line-number\">17</span>\n</pre>\n</td>\n<td class=\"code\">\n<pre><code class=\"erb undefined\"><span class=\"line\"><span class=\"x\">&lt;table&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;thead&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;tr&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;th&gt;Title&lt;/th&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;th&gt;Price&lt;/th&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;/tr&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;/thead&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;tbody&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> </span><span class=\"cp\">&lt;%</span> <span class=\"vi\">@books</span><span class=\"o\">.</span><span class=\"n\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">book</span><span class=\"o\">|</span> <span class=\"cp\">%&gt;</span><span class=\"x\"></span>\n</span><span class=\"line\"><span class=\"x\"> &lt;tr&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;td&gt;</span><span class=\"cp\">&lt;%=</span> <span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"cp\">%&gt;</span><span class=\"x\">&lt;/td&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;td&gt;</span><span class=\"cp\">&lt;%=</span> <span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">price</span> <span class=\"cp\">%&gt;</span><span class=\"x\">&lt;/td&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;/tr&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> </span><span class=\"cp\">&lt;%</span> <span class=\"k\">end</span> <span class=\"cp\">%&gt;</span><span class=\"x\"></span>\n</span><span class=\"line\"><span class=\"x\"> &lt;/tbody&gt;</span>\n</span><span class=\"line\"><span class=\"x\">&lt;/table&gt;</span>\n</span><span class=\"line\"><span class=\"cp\">&lt;%=</span> <span class=\"n\">will_paginate</span> <span class=\"vi\">@books</span> <span class=\"cp\">%&gt;</span><span class=\"x\"></span>\n</span></code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</figure>\n<p>TIP: If you have to paginate an array (instead of an activerecord collection), just add this line in one of your initializer:</p>\n<figure class=\"code\">\n<figcaption><span>will_paginate_array.rb </span></figcaption>\n<div class=\"highlight\">\n<table>\n<tbody>\n<tr>\n<td class=\"gutter\">\n<pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n</pre>\n</td>\n<td class=\"code\">\n<pre><code class=\"ruby\"><span class=\"line\"><span class=\"nb\"><span class=\"keyword\">require</span></span> <span class=\"s1\"><span class=\"string\">'will_paginate/array'</span></span>\n</span></code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</figure>\n<p>You obtain directly the pagination you want. One drawback, additionally with this small disadvantage of not handling arrays natively, is that you can’t personalize the way the HTML and links are generated by will_paginate (for instance, if you need to add some parameters to links, or if you want to use div instead of span, whatever).</p>\n<p>Let’s now see how Kaminari works!</p>\n<p>In your controller:</p>\n<figure class=\"code\">\n<figcaption><span>books_controller.rb </span></figcaption>\n<div class=\"highlight\">\n<table>\n<tbody>\n<tr>\n<td class=\"gutter\">\n<pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n</pre>\n</td>\n<td class=\"code\">\n<pre><code class=\"ruby\"><span class=\"line\"><span class=\"k\"><span class=\"function\"><span class=\"keyword\">def</span></span></span><span class=\"function\"> <span class=\"nf\"><span class=\"title\">index</span></span></span><span class=\"nf\"></span>\n</span><span class=\"line\"> <span class=\"vi\"><span class=\"variable\">@books</span></span> <span class=\"o\">=</span> <span class=\"no\"><span class=\"constant\">Book</span></span><span class=\"o\">.</span><span class=\"n\">page</span><span class=\"p\">(</span><span class=\"n\">params</span><span class=\"o\">[</span><span class=\"ss\"><span class=\"symbol\">:page</span></span><span class=\"o\">]</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">per</span><span class=\"p\">(</span><span class=\"mi\"><span class=\"number\">10</span></span><span class=\"p\">)</span>\n</span><span class=\"line\"><span class=\"k\"><span class=\"keyword\">end</span></span>\n</span></code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</figure>\n<p>and in your view:</p>\n<figure class=\"code\">\n<figcaption><span>index.html.erb </span></figcaption>\n<div class=\"highlight\">\n<table>\n<tbody>\n<tr>\n<td class=\"gutter\">\n<pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n<span class=\"line-number\">11</span>\n<span class=\"line-number\">12</span>\n<span class=\"line-number\">13</span>\n<span class=\"line-number\">14</span>\n<span class=\"line-number\">15</span>\n<span class=\"line-number\">16</span>\n<span class=\"line-number\">17</span>\n</pre>\n</td>\n<td class=\"code\">\n<pre><code class=\"erb undefined\"><span class=\"line\"><span class=\"x\">&lt;table&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;thead&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;tr&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;th&gt;Title&lt;/th&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;th&gt;Price&lt;/th&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;/tr&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;/thead&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;tbody&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> </span><span class=\"cp\">&lt;%</span> <span class=\"vi\">@books</span><span class=\"o\">.</span><span class=\"n\">each</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">book</span><span class=\"o\">|</span> <span class=\"cp\">%&gt;</span><span class=\"x\"></span>\n</span><span class=\"line\"><span class=\"x\"> &lt;tr&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;td&gt;</span><span class=\"cp\">&lt;%=</span> <span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"cp\">%&gt;</span><span class=\"x\">&lt;/td&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;td&gt;</span><span class=\"cp\">&lt;%=</span> <span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">price</span> <span class=\"cp\">%&gt;</span><span class=\"x\">&lt;/td&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> &lt;/tr&gt;</span>\n</span><span class=\"line\"><span class=\"x\"> </span><span class=\"cp\">&lt;%</span> <span class=\"k\">end</span> <span class=\"cp\">%&gt;</span><span class=\"x\"></span>\n</span><span class=\"line\"><span class=\"x\"> &lt;/tbody&gt;</span>\n</span><span class=\"line\"><span class=\"x\">&lt;/table&gt;</span>\n</span><span class=\"line\"><span class=\"cp\">&lt;%=</span> <span class=\"n\">paginate</span> <span class=\"vi\">@books</span> <span class=\"cp\">%&gt;</span><span class=\"x\"></span>\n</span></code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</figure>\n<p>As you see, both systems are similar. But Kaminari improves that by allowing you to personalize your pagination. You can generate default view templates (via the following command rails g kaminari:views default) and even create themes if you need several distinct presentations (Go to the newly created kaminari folder in your views, create a new folder for your theme and copy / paste default views previously generated in this folder and modify them as you desire). Then, you simply have to call</p>\n<figure class=\"code\">\n<div class=\"highlight\">\n<table>\n<tbody>\n<tr>\n<td class=\"gutter\">\n<pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n</pre>\n</td>\n<td class=\"code\">\n<pre><code class=\"erb ruby\"><span class=\"line\"><span class=\"cp\">&lt;%=</span> <span class=\"n\">paginate</span> <span class=\"vi\"><span class=\"variable\">@books</span></span><span class=\"p\">,</span> <span class=\"ss\"><span class=\"symbol\">:theme</span></span> <span class=\"o\">=&gt;</span> <span class=\"s1\"><span class=\"string\">'my_theme'</span></span> <span class=\"cp\">%&gt;</span><span class=\"x\">. </span>\n</span></code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</figure>\n<p>Both gems give straightly a good pagination system to your application, you can even use several ones on a same page, but our love can’t go to one of them, due to their pro and con’s, Kaminari is really amazing with his additional personalization features, nevertheless, it doesn’t handle arrays at all (even if some tricks could be used in that purpose). Will paginate, in the other hand, can handle a lot more situations (arrays, activeRecord associations, …).</p>\n<p>Furthermore, if you have to use both gems in your app (Yes, it could happen ;) ). Just add this in one of your initializer:</p>\n<figure class=\"code\">\n<figcaption><span>will_paginate_kaminari.rb </span></figcaption>\n<div class=\"highlight\">\n<table>\n<tbody>\n<tr>\n<td class=\"gutter\">\n<pre class=\"line-numbers\"><span class=\"line-number\">1</span>\n<span class=\"line-number\">2</span>\n<span class=\"line-number\">3</span>\n<span class=\"line-number\">4</span>\n<span class=\"line-number\">5</span>\n<span class=\"line-number\">6</span>\n<span class=\"line-number\">7</span>\n<span class=\"line-number\">8</span>\n<span class=\"line-number\">9</span>\n<span class=\"line-number\">10</span>\n</pre>\n</td>\n<td class=\"code\">\n<pre><code class=\"ruby\"><span class=\"line\"><span class=\"k\"><span class=\"keyword\">if</span></span> <span class=\"n\"><span class=\"keyword\">defined</span>?</span><span class=\"p\">(</span><span class=\"no\"><span class=\"constant\">WillPaginate</span></span><span class=\"p\">)</span>\n</span><span class=\"line\"> <span class=\"k\"><span class=\"class\"><span class=\"keyword\">module</span></span></span><span class=\"class\"> <span class=\"nn\"><span class=\"title\">WillPaginate</span></span></span><span class=\"nn\"></span>\n</span><span class=\"line\"> <span class=\"k\"><span class=\"class\"><span class=\"keyword\">module</span></span></span><span class=\"class\"> <span class=\"nn\"><span class=\"title\">ActiveRecord</span></span></span><span class=\"nn\"></span>\n</span><span class=\"line\"> <span class=\"k\"><span class=\"class\"><span class=\"keyword\">module</span></span></span><span class=\"class\"> <span class=\"nn\"><span class=\"title\">RelationMethods</span></span></span><span class=\"nn\"></span>\n</span><span class=\"line\"> <span class=\"n\">alias_method</span> <span class=\"ss\"><span class=\"symbol\">:per</span></span><span class=\"p\">,</span> <span class=\"ss\"><span class=\"symbol\">:per_page</span></span>\n</span><span class=\"line\"> <span class=\"n\">alias_method</span> <span class=\"ss\"><span class=\"symbol\">:num_pages</span></span><span class=\"p\">,</span> <span class=\"ss\"><span class=\"symbol\">:total_pages</span></span>\n</span><span class=\"line\"> <span class=\"k\"><span class=\"keyword\">end</span></span>\n</span><span class=\"line\"> <span class=\"k\"><span class=\"keyword\">end</span></span>\n</span><span class=\"line\"> <span class=\"k\"><span class=\"keyword\">end</span></span>\n</span><span class=\"line\"><span class=\"k\"><span class=\"keyword\">end</span></span>\n</span></code></pre>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</figure>\n<p>For further information about these two gems:</p>\n<p>will_paginate: <strong><a href=\"https://github.com/mislav/will_paginate\">https://github.com/mislav/will_paginate</a></strong></p>\n<p>Kaminari: <a href=\"https://github.com/amatsuda/kaminari\"><strong>https://github.com/amatsuda/kaminari</strong><br><br></a><!--HubSpot Call-to-Action Code --><span class=\"hs-cta-wrapper\" id=\"hs-cta-wrapper-fb3606cc-cc1b-47d0-ae85-2c9f69837fe2\"><span class=\"hs-cta-node hs-cta-fb3606cc-cc1b-47d0-ae85-2c9f69837fe2\" id=\"hs-cta-fb3606cc-cc1b-47d0-ae85-2c9f69837fe2\"><!--[if lte IE 8]><div id=\"hs-cta-ie-element\"></div><![endif]--><a href=\"https://cta-redirect.hubspot.com/cta/redirect/1684659/fb3606cc-cc1b-47d0-ae85-2c9f69837fe2\" target=\"_blank\"><img class=\"hs-cta-img\" id=\"hs-cta-img-fb3606cc-cc1b-47d0-ae85-2c9f69837fe2\" style=\"border-width:0px;\" src=\"https://no-cache.hubspot.com/cta/default/1684659/fb3606cc-cc1b-47d0-ae85-2c9f69837fe2.png\" alt=\"New Call-to-action\"></a></span></span><!-- end HubSpot Call-to-Action Code -->&nbsp;</p>"
tags:
  - label: "Under the hood"
    value: "under-the-hood"

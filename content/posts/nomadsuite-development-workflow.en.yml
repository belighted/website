lang: en
slug: nomadsuite-development-workflow
originalPath: https://www.belighted.com/blog/nomadsuite-development-workflow
title: Nomad Suite development workflow
author: Joel C.
description: An overview of our handcrafted development workflow for Nomad Suite
  relying on a bunch of web services.
image: null
date: 1356998400000
body: >-
  <p>For a few months here at Belighted, we are all committed to release what
  could be a new breakthrough into the service related ERP world! We crafted it
  using such amazing tools as AngularJS and other trending ones!</p>

  <!--more-->

  <p>But in our way to achieve such a challenge, we needed to put in place a workflow which needed to be as complete as possible in order to allow a high quality level of crafted code as well as traceability and as easy and lean as possible in order to focus only on features development.</p>

  <p>In order to make things as smooth as possible for everybody, we rely on a few great tools, integrated together so everything that can be is automatic.</p>

  <h2>Starting a feature</h2>

  <p>As with any agile project, features of <strong><a href="https://nomadsuite.com/">Nomad Suite</a></strong> are described as <em>stories</em>, ordered by priority on the popular <a href="https://www.pivotaltracker.com">Pivotal Tracker</a>.</p>

  <p>The first step is therefore to <em>start</em> the first story in the backlog. This lets everybody know who is working on what and, because we use <a href="https://www.hipchat.com/">HipChat</a> for internal communication and we <a href="https://help.hipchat.com/knowledgebase/articles/64449-pivotal-tracker-integration">hooked both tools together</a>, all stakeholders are notified.</p>

  <p><img src="https://i.imgur.com/lsJhbNV.png" alt=""> <img src="https://i.imgur.com/pIdKtqq.png" alt=""></p>

  <p>Next, we create a new feature branch, with a clear and concise name — it is destined to be pushed, so it shouldn’t confuse other developers. Some of us like to add the story ID from Pivotal, but the truth is we don’t really have a strict pattern. Feature branches are extremely important to us because they allow you to experiment at will, commit, share your changes, and rollback if need be, all without disrupting the work of other and, most importantly, staging and production deployments.</p>

  <blockquote>

  <p>On rare occasions, we do commit directly on <strong>master</strong> , but the change must then meet two conditions:</p>

  <ul>

  <li>It doesn’t need review by another developer. This is true for very small bugs, typos and some settings changes, but not much else.</li>

  <li>It must be trivial enough that if you get interrupted, it can be stashed or discarded, and easily applied when you come back to it. ## Continuous reporting</li>

  </ul>

  </blockquote>

  <p>At every push to <a href="https://github.com">GitHub</a>, the team is notified on HipChat. This is a great way to let everybody interested know how the feature progressing.</p>

  <p><img src="https://i.imgur.com/BojUetT.png" alt=""></p>

  <p>Our CI, <a href="https://semaphoreapp.com/">Semaphore</a>, is also notified, and will let you know if all tests are green through — you guessed it — HipChat. This allows developers to not run the entire test suite, as some tests can take a few minutes. It is perfectly OK to break a feature branch.</p>

  <p><img src="https://i.imgur.com/4kMdvqY.png" alt=""></p>

  <h2>Finishing up</h2>

  <p>Once the feature is implemented, tested, and all tests are green, the feature branch is ready to be merged into <strong>master</strong>.</p>

  <p>Or is it? Now is the time to look at the commits, and squash the branch if necessary.</p>

  <blockquote>

  <p>As for branch names, we don’t have explicit guidelines on commits and messages, but here are a few things we hate to see, from bad to worst:</p>

  <ul>

  <li>Incomplete (not functionnal) feature</li>

  <li>Untested feature</li>

  <li>Broken tests</li>

  <li>“wip”</li>

  </ul>

  </blockquote>

  <p>All commits should reference the Pivotal Tracker story ID and the last one should say it finishes it, so GitHub can <a href="https://www.pivotaltracker.com/help/api?version=v3#scm_post_commit">update the tracker for us</a>. The story is now automatically marked as <strong>finished</strong> , but it still needs review. Time to open a <strong>Pull Request</strong> on GitHub.</p>

  <p><img src="https://i.imgur.com/96XA1HI.png" alt=""></p>

  <h2>Review</h2>

  <p>Because we want to make sure this is the best code we can write, and we can all learn something from somebody else, all changes need to be reviewed by another developer. It can be anybody — the important thing, like with pair programming, is to have another pair of eyes, but we will sometimes ask someone with particular expertise to do the review.</p>

  <p>After a little back and forth (with amended commits and forced pushes), the reviewer can finally decide to merge the feature. He is also reassured by Semaphore, which tested the branch and <a href="https://semaphoreapp.com/blog/2012/09/04/semaphore-implements-githubs-status-api-in-record-time.html">reports status</a> on the Pull Request.</p>

  <p><img src="https://semaphoreapp.com/blog/assets/images/2012-09-04/green-request.png" alt="Semaphore status on Pull Request"></p>

  <h2>Deployment</h2>

  <p>After the merge, Semaphore will run tests on the new master. They should all be green, so it will deploy on <a href="https://heroku.com">Heroku</a> for us (and yes, notify HipChat). Our custom deploy script also uses the <a href="https://github.com/robb1e/tracker-git">tracker-git</a> gem, so stories will now automatically be <strong>delivered</strong>.</p>

  <p>Time for the next story!..</p>

  <p><img src="https://i.imgur.com/7M3kiHH.jpg" alt=""></p>

  <p>Hoping this post could help people looking for an efficient way of organizing their job !<br><br><!--HubSpot Call-to-Action Code --><span class="hs-cta-wrapper" id="hs-cta-wrapper-fb3606cc-cc1b-47d0-ae85-2c9f69837fe2"><span class="hs-cta-node hs-cta-fb3606cc-cc1b-47d0-ae85-2c9f69837fe2" id="hs-cta-fb3606cc-cc1b-47d0-ae85-2c9f69837fe2"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/1684659/fb3606cc-cc1b-47d0-ae85-2c9f69837fe2" target="_blank"><img class="hs-cta-img" id="hs-cta-img-fb3606cc-cc1b-47d0-ae85-2c9f69837fe2" style="border-width:0px;" src="https://no-cache.hubspot.com/cta/default/1684659/fb3606cc-cc1b-47d0-ae85-2c9f69837fe2.png" alt="New Call-to-action"></a></span></span><!-- end HubSpot Call-to-Action Code --></p>

  <div id="disqus_thread">&nbsp;</div>
tags:
  - label: Under the hood
    value: under-the-hood
